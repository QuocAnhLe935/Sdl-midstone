#include "Map2.h"
#include <SDL_image.h>
#include <iostream>



char mapLayerOne[20][20] = {
{6,6,6,6,6,6,6,2,6,6,6,6,6,6,6,6,6,11,4,4    },
{6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,11,4,4,4    },
{6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,11,4,4,4,4    },
{10,10,10,10,10,10,10,10,10,10,10,10,10,10,11,4,4,4,4,4    },
{14,14,14,14,14,14,14,14,14,14,14,14,14,14,4,16,4,4,4,4    },
{4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4    },
{4,4,4,6,6,8,8,8,8,6,6,6,6,6,4,4,4,4,4,4    },
{4,4,4,6,6,6,6,6,8,6,6,6,6,6,6,4,4,4,4,4    },
{4,4,4,6,6,14,6,6,8,8,6,6,6,6,6,4,4,4,4,4   },
{4,4,4,6,14,16,14,6,6,8,6,6,6,6,6,4,4,4,4,4 },
{4,4,4,14,16,16,16,12,8,8,8,8,6,6,6,4,4,4,4,4  },
{4,4,4,6,16,16,16,6,6,6,6,8,8,8,6,4,4,4,4,4 },
{4,4,4,6,6,16,6,6,6,6,6,6,6,8,6,4,4,4,4,4   },
{4,4,13,6,6,6,6,6,6,6,6,6,6,8,6,4,4,4,4,4   },
{4,4,4,14,14,14,14,14,14,14,14,14,14,14,14,15,4,4,4,4  },
{4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4    },
{4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4    },
{4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4    },
{4,4,4,4,4,4,4,4,4,4,4,4,6,6,6,6,4,4,4,4    },
{4,4,4,4,4,4,4,4,4,4,4,6,6,6,6,6,4,4,4,4    }
};


char mapLayerTwo[20][20] = {
{ 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0 },
{ 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0 },
{ 0,0,0,0,0,0,0,0,0,2,2,2,2,3,0,0,0,0,0,0 },
{ 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0 },
{ 0,0,14,0,0,0,0,0,0,0,0,0,0,0,19,0,0,0,0,0 },
{ 0,0,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0 },
{ 0,0,5,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0 },
{ 0,0,5,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0 },
{ 0,0,5,0,0,10,0,0,0,0,0,0,0,0,0,7,0,0,0,0 },
{ 0,0,5,0,11,18,9,0,0,0,0,0,0,0,0,7,0,0,0,0 },
{ 0,0,5,7,19,0,12,12,0,0,0,0,0,0,0,7,0,0,0,0 },
{ 0,0,5,0,3,0,1,0,0,0,0,0,0,0,0,7,0,0,0,0 },
{ 0,0,5,0,0,2,0,0,0,0,0,0,0,0,0,7,0,0,0,0 },
{ 0,0,9,0,0,0,0,0,0,0,0,0,0,0,0,7,0,0,0,0 },
{ 0,0,17,9,10,10,10,10,10,10,10,10,10,12,10,11,0,0,0,0 },
{ 0,0,0,17,18,18,18,18,18,18,18,18,18,12,18,19,0,0,0,0 },
{ 0,0,0,0,0,0,0,0,0,0,0,0,0,12,0,0,0,0,0,0 },
{ 0,0,0,0,0,0,0,0,0,0,0,1,2,12,2,3,0,0,0,0 },
{ 0,0,0,0,0,0,0,0,0,0,0,5,0,8,0,0,4,0,0,0 },
{ 0,0,0,0,0,0,0,0,0,0,1,0,0,8,0,0,7,0,0,0 }
};

Map2::Map2()
{
	
}

Map2::~Map2()
{
}

void Map2::Draw(SDL_Surface* image, char mapLayer, SDL_Surface*sc)
{
	SDL_Rect baseTile[20];

	int tileX = 0;
	int tileY = 0;
	for (int i = 1; i < 20; i++) {
		baseTile[i].h = 32;
		baseTile[i].w = 32;
		baseTile[i].x = tileX;
		baseTile[i].y = tileY;
		tileX += 32;

		if (tileX == 128) {
			tileY += 32; 
			tileX = 0;
		}
	}

	//SDL_FillRect(SDL_Surface* r, NULL, SDL_MapRGB(r->format, 0xff, 0xff, 0xff);
	SDL_Rect tileLoc;
	tileLoc.x = 0;
	tileLoc.y = 0;
	
	SDL_Surface* baseLayer = NULL;
	//SDL_Surface* baseLayer = NULL;
	//drawtile
	for (int i = 0; i < 20; i++)
	{
		for (int j = 0; j < 20; j++)
		{
			if (mapLayerOne[i][j] != 0) {
				SDL_BlitSurface(image, &baseTile[mapLayerOne[i][j]], sc, &tileLoc);
			}
				if (mapLayer == 2 && mapLayerTwo[i][j] != 0) {
					SDL_BlitSurface(image, &baseTile[mapLayerTwo[i][j]], sc, &tileLoc);
				}
				tileLoc.x += 32;
				if (tileLoc.x == 640)
				{
					tileLoc.x = 0;
					tileLoc.y += 32;
				}
			
		}
	}
}

void Map2::Draw2(SDL_Surface* image, SDL_Surface* sc)
{
	SDL_BlitSurface(image, nullptr, sc, NULL);
	
}


